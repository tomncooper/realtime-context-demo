# Test configuration for SmartShip Query API
# Overrides main application.properties for test profile

# PostgreSQL DevServices (testcontainers)
quarkus.datasource.devservices.enabled=true
quarkus.datasource.devservices.image-name=postgres:15-alpine
quarkus.datasource.devservices.init-script-path=test-init.sql

# Streams processor mock configuration (not available during unit tests)
streams-processor.headless-service=localhost
streams-processor.port=17070

# Logging configuration for tests
quarkus.log.level=INFO
quarkus.log.category."com.smartship".level=DEBUG
quarkus.log.category."io.quarkus".level=WARN

# Disable OpenAPI generation during tests (faster)
quarkus.smallrye-openapi.enable=false
quarkus.swagger-ui.enable=false

# Cache configuration (shorter TTL for tests)
quarkus.cache.caffeine.streams-instances.expire-after-write=5S
quarkus.cache.caffeine.streams-instances.maximum-size=5

# JaCoCo code coverage configuration
quarkus.jacoco.report-location=target/jacoco-report

# =============================================================================
# LangChain4j Configuration for Tests
# =============================================================================
# Disable Ollama dev services (no LLM needed for unit tests)
quarkus.langchain4j.ollama.devservices.enabled=false
